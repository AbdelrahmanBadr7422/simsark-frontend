<section class="min-h-screen flex flex-col lg:flex-row text-[#2B1B12] bg-[#FFF5EE]">
  <div
    class="bg-[url('/assets/landing/hero_image.png')] lg:flex w-full lg:w-1/2 hidden bg-cover bg-center relative items-center"
  >
    <div class="absolute inset-0 bg-gradient-to-b from-[#DCC8B9]/70 to-[#FFF5EE]/90"></div>
    <div class="w-full px-12 lg:px-20 z-10">
      <h1 class="text-4xl lg:text-5xl font-bold leading-tight mb-4 text-[#2B1B12]">
        Join Our Community
      </h1>
      <p class="text-lg lg:text-xl text-[#4A3B32]">
        Sign up to connect, explore, and grow with us.
      </p>
    </div>
  </div>

  <div class="w-full lg:w-1/2 flex items-center justify-center px-6 md:px-12 bg-[#DCC8B9]">
    <div class="w-full max-w-md py-10">
      <h2 class="text-3xl font-bold mb-8 text-center text-[#2B1B12]">Create an Account</h2>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <div class="relative">
          <input
            type="email"
            id="email"
            formControlName="email"
            class="peer w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12] placeholder-transparent"
            placeholder="Email address"
          />
          <label
            for="email"
            class="absolute left-0 top-3 text-[#6B5B4D] text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-[#8C7A6B] peer-focus:-top-3 peer-focus:text-[#2B1B12] peer-focus:text-xs"
            >Email address</label
          >
          @if(registerForm.get('email')?.touched && registerForm.get('email')?.invalid){
          <div class="text-red-600 text-sm mt-1">
            @if(registerForm.get('email')?.errors?.['required']){ Email is required. }
            @if(registerForm.get('email')?.errors?.['email']){ Enter a valid email. }
          </div>
          }
        </div>

        <div class="relative">
          <input
            type="password"
            id="password"
            formControlName="password"
            class="peer w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12] placeholder-transparent"
            placeholder="Password"
          />
          <label
            for="password"
            class="absolute left-0 top-3 text-[#6B5B4D] text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-[#8C7A6B] peer-focus:-top-3 peer-focus:text-[#2B1B12] peer-focus:text-xs"
            >Password</label
          >
          @if(registerForm.get('password')?.touched && registerForm.get('password')?.invalid){
          <div class="text-red-600 text-sm mt-1">
            @if(registerForm.get('password')?.errors?.['required']){ Password is required. }
            @if(registerForm.get('password')?.errors?.['minlength']){ Minimum 6 characters. }
          </div>
          }
        </div>

        <div class="relative">
          <input
            type="password"
            id="confirmPassword"
            formControlName="confirmPassword"
            class="peer w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12] placeholder-transparent"
            placeholder="Confirm Password"
          />
          <label
            for="confirmPassword"
            class="absolute left-0 top-3 text-[#6B5B4D] text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-[#8C7A6B] peer-focus:-top-3 peer-focus:text-[#2B1B12] peer-focus:text-xs"
            >Confirm Password</label
          >
          @if(registerForm.get('confirmPassword')?.touched &&
          (registerForm.get('confirmPassword')?.invalid ||
          registerForm.errors?.['passwordMismatch'])) {
          <div class="text-red-600 text-sm mt-1">
            @if(registerForm.errors?.['passwordMismatch']){ Passwords do not match. }
          </div>
          }
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="relative">
            <input
              type="text"
              id="fname"
              formControlName="fname"
              class="peer w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12] placeholder-transparent"
              placeholder="First name"
            />
            <label
              for="fname"
              class="absolute left-0 top-3 text-[#6B5B4D] text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-[#8C7A6B] peer-focus:-top-3 peer-focus:text-[#2B1B12] peer-focus:text-xs"
              >First name</label
            >
          </div>

          <div class="relative">
            <input
              type="text"
              id="lname"
              formControlName="lname"
              class="peer w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12] placeholder-transparent"
              placeholder="Last name"
            />
            <label
              for="lname"
              class="absolute left-0 top-3 text-[#6B5B4D] text-sm transition-all peer-placeholder-shown:top-3 peer-placeholder-shown:text-[#8C7A6B] peer-focus:-top-3 peer-focus:text-[#2B1B12] peer-focus:text-xs"
              >Last name</label
            >
          </div>
        </div>

        <div class="relative">
          <select
            id="role"
            formControlName="role"
            class="block w-full bg-transparent border-b-2 border-[#B99F8A] text-[#2B1B12] py-3 focus:outline-none focus:border-[#2B1B12]"
          >
            <option value="" disabled selected hidden>Select Role</option>
            <option value="seller" class="text-[#2B1B12]">Seller</option>
            <option value="customer" class="text-[#2B1B12]">Customer</option>
          </select>
        </div>

        <button
          type="submit"
          [disabled]="registerForm.invalid || isLoading"
          class="w-full bg-[#2B1B12] hover:bg-[#3b261a] transition-all text-white font-semibold py-3 rounded-lg disabled:opacity-50"
        >
          {{ isLoading ? 'Registering...' : 'Register' }}
        </button>

        @if(serverErrorMsg){
        <div class="text-red-600 text-center mt-2">{{ serverErrorMsg }}</div>
        } @if(registerStatusMsg && !serverErrorMsg){
        <div class="text-green-600 text-center mt-2">{{ registerStatusMsg }}</div>
        }
      </form>

      <div class="mt-6 text-center text-[#4A3B32] text-sm">
        Already have an account?
        <a routerLink="/login" class="text-[#2B1B12] hover:underline font-semibold">Login here</a>
      </div>
    </div>
  </div>
</section>
