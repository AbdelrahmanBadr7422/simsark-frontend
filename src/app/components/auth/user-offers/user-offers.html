@if (isSeller) {
<app-offers-list></app-offers-list>
} @else {
<div
  class="max-w-6xl mx-auto p-4 sm:p-6 md:p-8 bg-white rounded-xl shadow-md border border-gray-100"
>
  <h2 class="text-xl sm:text-2xl font-semibold mb-6 text-gray-800 text-center sm:text-left">
    My Offers
  </h2>

  @if (isLoading()) {
  <div class="flex flex-col sm:flex-row items-center justify-center py-12 text-center">
    <span class="loading loading-spinner loading-lg text-blue-500"></span>
    <p class="mt-4 sm:mt-0 sm:ml-3 text-gray-500 text-sm">Loading your offers...</p>
  </div>
  } @else if (hasError()) {
  <div class="text-center py-10 text-red-500">
    <p class="text-lg font-medium">Failed to load your offers.</p>
  </div>
  } @else if (offers().length === 0) {
  <div class="text-center py-12 text-gray-500">
    <p class="text-base sm:text-lg">You haven’t made any offers yet.</p>
    <a
      routerLink="/browse"
      class="mt-4 inline-block text-blue-600 hover:underline text-sm font-medium"
    >
      Explore listings →
    </a>
  </div>
  } @else {
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
    @for (offer of offers(); track offer._id) {
    <div
      class="offer-card bg-gray-50 hover:bg-white transition shadow-sm hover:shadow-md border border-gray-200 rounded-lg p-4 flex flex-col justify-between text-sm sm:text-base"
    >
      <div>
        <div
          class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-2 gap-1"
        >
          <p class="font-semibold text-gray-800 truncate w-full sm:w-auto">
            {{ offer.post.title }}
          </p>
          <span
            class="px-2 py-0.5 text-xs sm:text-sm font-medium rounded-full self-start sm:self-auto"
            [ngClass]="{
              'bg-yellow-100 text-yellow-700': offer.status === 'PENDING',
              'bg-green-100 text-green-700': offer.status === 'ACCEPTED',
              'bg-red-100 text-red-700': offer.status === 'REJECTED'
            }"
          >
            {{ offer.status }}
          </span>
        </div>

        <p class="text-gray-600 text-sm mb-2 line-clamp-2">
          {{ offer.post.description || 'No description available' }}
        </p>

        <div class="text-gray-500 text-xs sm:text-sm mb-3 flex flex-wrap gap-1">
          <span>{{ offer.post.propertyType }}</span
          >• <span>{{ offer.post.area }} m²</span>•
          <span>{{ offer.post.rooms }} rooms</span>
        </div>
      </div>

      <div
        class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 mt-auto"
      >
        <p class="text-gray-800 font-semibold text-sm sm:text-base">
          {{ offer.amount | currency }}
        </p>

        @if (offer.status === 'ACCEPTED') {
        <a
          [routerLink]="['/post', offer.post._id]"
          class="text-blue-600 hover:text-blue-800 text-sm font-medium hover:underline"
        >
          View Post
        </a>
        }
      </div>
    </div>
    }
  </div>
  }
</div>
}
