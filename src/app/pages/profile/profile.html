<section class="max-w-4xl mx-auto p-6 bg-white shadow rounded-lg">
  <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">
    {{ userData.fname }} {{ userData.lname }}'s Profile
  </h2>

  <div class="space-y-5">
    @for (field of fields; track $index) {
    <div class="flex flex-col sm:flex-row sm:items-center sm:gap-4">
      <label for="{{ field.key }}" class="block text-sm font-medium text-gray-700 sm:w-32">
        {{ field.label }}
      </label>

      @if (field.key === 'password') {
      <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full">
        <input
          id="{{ field.key }}"
          type="password"
          #passInput
          class="flex-1 p-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-800"
          [placeholder]="resetToggle ? 'Enter new password' : '********'"
          [readonly]="resetToggle"
          [disabled]="resetToggle"
        />

        @if (resetToggle) {
        <button
          type="button"
          (click)="toggleResetBtn()"
          class="text-blue-600 font-semibold hover:underline"
        >
          Reset Password?
        </button>
        } @else {
        <button
          type="button"
          (click)="saveNewPassword(passInput.value)"
          class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"
        >
          Save
        </button>
        <button
          type="button"
          (click)="cancelReset()"
          class="px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition"
        >
          Cancel
        </button>
        }
      </div>

      @if (passwordError) {
      <p class="text-sm text-red-600 mt-1 ml-1">{{ passwordError }}</p>
      } } @else {
      <input
        id="{{ field.key }}"
        type="text"
        class="flex-1 p-2 bg-gray-100 border rounded-md text-gray-700"
        [value]="field.value"
        readonly
        disabled
      />
      }
    </div>
    }
  </div>

  @if (resetPassMsg) {
  <div
    class="mt-6 p-3 rounded text-sm font-medium"
    [class.bg-green-100]="!resetError"
    [class.text-green-800]="!resetError"
    [class.bg-red-100]="resetError"
    [class.text-red-800]="resetError"
  >
    {{ resetPassMsg }}
  </div>
  }
</section>
