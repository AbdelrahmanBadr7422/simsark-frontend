import{a as L}from"./chunk-5WYRY4FN.js";import{a as C,b as v,c as F,d as S,e as E,g as P,h as y,l as B,m as M}from"./chunk-XOG22YQB.js";import"./chunk-XCEYEA5J.js";import{e as w}from"./chunk-74MSF4LX.js";import"./chunk-XHS7ECCB.js";import{$ as _,La as b,T as g,Wa as m,Ya as d,_ as x,bb as f,cb as i,db as r,eb as c,gb as h,hb as u,nb as a,pb as p,wa as o}from"./chunk-FJDYQ5PW.js";function k(e,l){e&1&&(i(0,"div"),a(1,"Email is required."),r())}function N(e,l){e&1&&(i(0,"div"),a(1,"Enter a valid email."),r())}function D(e,l){if(e&1&&(i(0,"div",9),m(1,k,2,0,"div"),m(2,N,2,0,"div"),r()),e&2){let t,n,s=u();o(),d(!((t=s.forgetPasswordForm.get("email"))==null||t.errors==null)&&t.errors.required?1:-1),o(),d(!((n=s.forgetPasswordForm.get("email"))==null||n.errors==null)&&n.errors.email?2:-1)}}function A(e,l){if(e&1&&(i(0,"div",10),a(1),r()),e&2){let t=u();o(),p(" ",t.serverErrorMsg," ")}}function G(e,l){if(e&1&&(i(0,"div",11),a(1),r()),e&2){let t=u();o(),p(" ",t.successMsg," ")}}function R(e,l){e&1&&(x(),i(0,"svg",15),c(1,"circle",16)(2,"path",17),r(),_(),i(3,"span"),a(4,"Sending..."),r())}function V(e,l){e&1&&(i(0,"span"),a(1,"Send Reset Link"),r())}var T=class e{_authService=g(L);_fb=g(B);forgetPasswordForm=this._fb.group({email:["",[v.required,v.email]]});isLoading=!1;successMsg="";serverErrorMsg="";onSubmit(){if(this.forgetPasswordForm.invalid)return;this.isLoading=!0,this.successMsg="",this.serverErrorMsg="";let l=this.forgetPasswordForm.value.email;this._authService.forgetPassService(l).subscribe({next:t=>{this.successMsg=t.message||"Reset link sent successfully!",this.isLoading=!1},error:t=>{this.serverErrorMsg=t?.error?.message||"Failed to send reset link.",this.isLoading=!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=b({type:e,selectors:[["app-forget-pass"]],decls:21,vars:6,consts:[[1,"flex","flex-col","lg:flex-row","text-[#2B1B12]",2,"height","calc(100vh - 88px)"],[1,"lg:flex","w-full","lg:w-1/2","hidden","bg-cover","bg-center","relative","items-center",2,"background-image","url('../../../../assets/Landing/hero_image.png')"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","sm:px-10","md:px-16"],[1,"w-full","max-w-md","py-10"],[1,"text-3xl","font-bold","mb-8","text-center"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"relative"],["for","email",1,"block","mb-2","text-[#6B5B4D]","text-sm","font-medium"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"w-full","bg-transparent","border-b-2","border-[#B99F8A]","py-3","text-[#2B1B12]","placeholder:text-[#8C7A6B]","focus:outline-none","focus:border-[#2B1B12]"],[1,"text-red-600","text-sm","mt-1"],[1,"text-red-600","text-center","mb-3","font-medium"],[1,"text-green-600","text-center","mb-3","font-medium"],["type","submit",1,"w-full","bg-[#2B1B12]","hover:bg-[#3B261A]","transition-all","text-white","font-semibold","py-3","rounded-lg","flex","justify-center","items-center","gap-2","disabled:opacity-50",3,"disabled"],[1,"mt-6","text-center","text-sm","text-[#4B4B4B]"],["routerLink","/auth/login",1,"text-[#2B1B12]","font-semibold","hover:underline"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",1,"opacity-75"]],template:function(t,n){if(t&1&&(i(0,"section",0),c(1,"div",1),i(2,"div",2)(3,"div",3)(4,"h2",4),a(5,"Forgot Password"),r(),i(6,"form",5),h("ngSubmit",function(){return n.onSubmit()}),i(7,"div",6)(8,"label",7),a(9," Email address "),r(),c(10,"input",8),m(11,D,3,2,"div",9),r(),m(12,A,2,1,"div",10),m(13,G,2,1,"div",11),i(14,"button",12),m(15,R,5,0)(16,V,2,0,"span"),r()(),i(17,"div",13),a(18," Remember your password? "),i(19,"a",14),a(20," Login here "),r()()()()()),t&2){let s;o(6),f("formGroup",n.forgetPasswordForm),o(5),d((s=n.forgetPasswordForm.get("email"))!=null&&s.touched&&((s=n.forgetPasswordForm.get("email"))!=null&&s.invalid)?11:-1),o(),d(n.serverErrorMsg?12:-1),o(),d(n.successMsg&&!n.serverErrorMsg?13:-1),o(),f("disabled",n.forgetPasswordForm.invalid||n.isLoading),o(),d(n.isLoading?15:16)}},dependencies:[M,E,C,F,S,P,y,w],encapsulation:2})};export{T as ForgetPass};
